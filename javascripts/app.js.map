{"version":3,"file":"public/javascripts/app.js","sources":["app/config/app.coffee","app/config/routes.coffee","app/config/store.coffee","app/controllers/DocumentController.coffee","app/controllers/DocumentsController.coffee","app/helpers/date.coffee","app/helpers/markdown.coffee","app/initialize.coffee","app/models/Document.coffee","app/routes/DocumentRoute.coffee","app/routes/DocumentsNewRoute.coffee","app/routes/DocumentsRoute.coffee","app/routes/IndexRoute.coffee","app/templates/application.hbs","app/templates/document.hbs","app/templates/documents.hbs","app/templates/index.hbs"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AAJA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AAHA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnFA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvEA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;;A","sourcesContent":["module.exports = Ember.Application.create({\n  rootElement: '#application',\n  LOG_TRANSITIONS: true\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.Router.map(function() {\n  this.route('documents');\n  this.route('documents_new', {\n    path: 'documents/new'\n  });\n  return this.route('document', {\n    path: 'documents/:document_id'\n  });\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.Store = DS.Store.extend({\n  revision: 13,\n  adapter: DS.LSAdapter.create()\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.DocumentController = Ember.ObjectController.extend({\n  isCreating: false\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.DocumentsController = Ember.ArrayController.extend({\n  sortProperties: ['updatedAt'],\n  sortAscending: false\n});\n","module.exports = Ember.Handlebars.registerBoundHelper('date', function(date) {\n  return moment(date).fromNow();\n});\n","var showdown;\n\nshowdown = new Showdown.converter();\n\nmodule.exports = Ember.Handlebars.registerBoundHelper('markdown', function(input) {\n  return new Ember.Handlebars.SafeString(showdown.makeHtml(input));\n});\n","window.App = require('config/app');\n\nrequire('config/routes');\n\nrequire('config/store');\n\nrequire('routes/IndexRoute');\n\nrequire('routes/DocumentRoute');\n\nrequire('routes/DocumentsRoute');\n\nrequire('routes/DocumentsNewRoute');\n\nrequire('models/Document');\n\nrequire('controllers/DocumentController');\n\nrequire('controllers/DocumentsController');\n\nrequire('helpers/markdown');\n\nrequire('helpers/date');\n\nrequire('templates/application');\n\nrequire('templates/index');\n\nrequire('templates/documents');\n\nrequire('templates/document');\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.Document = DS.Model.extend({\n  title: DS.attr('string'),\n  body: DS.attr('string'),\n  createdAt: DS.attr('date'),\n  updatedAt: DS.attr('date')\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.DocumentRoute = Ember.Route.extend({\n  activate: function() {\n    var title;\n    title = this.modelFor('document').get('title');\n    return document.title = \"\" + title + \" - Poe\";\n  },\n  actions: {\n    save: function() {\n      var model,\n        _this = this;\n      model = this.modelFor('document');\n      model.set('updatedAt', new Date());\n      return model.save().then(function() {\n        return _this.transitionTo('documents');\n      });\n    },\n    destroyRecord: function(record) {\n      if (window.confirm('Are you sure you want to delete this document?')) {\n        record.deleteRecord();\n        if (record.currentState.stateName !== 'root.deleted.saved') {\n          record.save();\n        }\n        return this.transitionTo('documents');\n      }\n    },\n    downloadFile: function(record) {\n      var blob, title;\n      blob = new Blob([record.get('body')], {\n        type: \"text/plain;charset=utf-8\"\n      });\n      title = record.get('title');\n      if (!/.md|.mkdn?|.mdown|.markdown/.test(title)) {\n        title += '.md';\n      }\n      return saveAs(blob, title);\n    }\n  }\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.DocumentsNewRoute = App.DocumentRoute.extend({\n  activate: function() {\n    return document.title = 'New Document - Poe';\n  },\n  renderTemplate: function() {\n    return this.render('document');\n  },\n  setupController: function(controller, model) {\n    this.controllerFor('document').set('content', model);\n    return this.controllerFor('document').set('isCreating', true);\n  },\n  model: function() {\n    var now;\n    now = new Date();\n    return this.store.createRecord('document', {\n      title: 'Untitled.md',\n      body: 'Content goes here...',\n      createdAt: now,\n      updatedAt: now\n    });\n  },\n  actions: {\n    save: function() {\n      var _this = this;\n      return this.modelFor('documents.new').save().then(function() {\n        _this.controllerFor('document').set('isCreating', false);\n        return _this.transitionTo('documents');\n      });\n    },\n    cancelNewRecord: function(record) {\n      record.deleteRecord();\n      this.controllerFor('document').set('isCreating', false);\n      return this.transitionTo('documents');\n    }\n  }\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.DocumentsRoute = Ember.Route.extend({\n  activate: function() {\n    return document.title = 'Poe';\n  },\n  model: function(params) {\n    return (this.get('store')).find('document');\n  },\n  actions: {\n    destroyRecord: function(record) {\n      if (window.confirm('Are you sure you want to delete this document?')) {\n        record.deleteRecord();\n        if (record.currentState.stateName !== 'root.deleted.saved') {\n          record.save();\n        }\n        return this.transitionTo('documents');\n      }\n    }\n  }\n});\n","var App;\n\nApp = require('config/app');\n\nmodule.exports = App.IndexRoute = Ember.Route.extend({\n  redirect: function() {\n    return this.transitionTo('documents');\n  }\n});\n","Ember.TEMPLATES['application'] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) {\nthis.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Ember.Handlebars.helpers); data = data || {};\n  var buffer = '', hashTypes, hashContexts, escapeExpression=this.escapeExpression;\n\n\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"outlet\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"\\n\");\n  return buffer;\n  \n});","Ember.TEMPLATES['document'] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) {\nthis.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Ember.Handlebars.helpers); data = data || {};\n  var buffer = '', stack1, hashTypes, hashContexts, options, escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"\\n                <a href=\\\"#\\\" class=\\\"btn btn-default pull-left\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"cancelNewRecord\", \"\", {hash:{},contexts:[depth0,depth0],types:[\"STRING\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">&larr; Go back</a>\\n            \");\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = '', stack1, stack2, hashContexts, hashTypes, options;\n  data.buffer.push(\"\\n                \");\n  hashContexts = {'class': depth0};\n  hashTypes = {'class': \"STRING\"};\n  options = {hash:{\n    'class': (\"btn btn-default pull-left\")\n  },inverse:self.noop,fn:self.program(4, program4, data),contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  stack2 = ((stack1 = helpers['link-to'] || depth0['link-to']),stack1 ? stack1.call(depth0, \"documents\", options) : helperMissing.call(depth0, \"link-to\", \"documents\", options));\n  if(stack2 || stack2 === 0) { data.buffer.push(stack2); }\n  data.buffer.push(\"\\n            \");\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  \n  data.buffer.push(\" &larr; Go back\");\n  }\n\n  data.buffer.push(\"<div class=\\\"document\\\">\\n    <div class=\\\"left-pane\\\">\\n        <form class=\\\"form-inline\\\" role=\\\"form\\\">\\n            \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers['if'].call(depth0, \"controller.isCreating\", {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n            <div class=\\\"pull-right\\\">\\n                <div class=\\\"form-group\\\">\\n                    \");\n  hashContexts = {'valueBinding': depth0,'class': depth0};\n  hashTypes = {'valueBinding': \"STRING\",'class': \"STRING\"};\n  data.buffer.push(escapeExpression(helpers.view.call(depth0, \"Ember.TextField\", {hash:{\n    'valueBinding': (\"title\"),\n    'class': (\"form-control\")\n  },contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"\\n                </div>\\n                <button class=\\\"btn btn-primary\\\" \");\n  hashContexts = {'disabled': depth0};\n  hashTypes = {'disabled': \"STRING\"};\n  data.buffer.push(escapeExpression(helpers.bindAttr.call(depth0, {hash:{\n    'disabled': (\"isProcessing\")\n  },contexts:[],types:[],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"save\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Save and Close</button>\\n                <button class=\\\"btn btn-danger\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"destroyRecord\", \"\", {hash:{},contexts:[depth0,depth0],types:[\"STRING\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Delete</button>\\n            </div>\\n            \");\n  hashContexts = {'valueBinding': depth0};\n  hashTypes = {'valueBinding': \"STRING\"};\n  data.buffer.push(escapeExpression(helpers.view.call(depth0, \"Ember.TextArea\", {hash:{\n    'valueBinding': (\"body\")\n  },contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"\\n        </form>\\n    </div>\\n    <div class=\\\"right-pane\\\">\\n        <div class=\\\"markdown-header\\\">\\n            <h1>\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"title\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</h1>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default download-file-btn\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"downloadFile\", \"\", {hash:{},contexts:[depth0,depth0],types:[\"STRING\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">\\n                <span class=\\\"glyphicon glyphicon-save\\\"></span> Download\\n            </button>\\n        </div>\\n        <div class=\\\"markdown\\\">\\n            \");\n  hashTypes = {};\n  hashContexts = {};\n  options = {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  data.buffer.push(escapeExpression(((stack1 = helpers.markdown || depth0.markdown),stack1 ? stack1.call(depth0, \"body\", options) : helperMissing.call(depth0, \"markdown\", \"body\", options))));\n  data.buffer.push(\"\\n        </div>\\n    </div>\\n</div>\");\n  return buffer;\n  \n});","Ember.TEMPLATES['documents'] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) {\nthis.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Ember.Handlebars.helpers); data = data || {};\n  var buffer = '', stack1, stack2, hashContexts, hashTypes, options, escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  data.buffer.push(\"Create\");\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = '', stack1, stack2, hashContexts, hashTypes, options;\n  data.buffer.push(\"\\n            \");\n  hashContexts = {'tagName': depth0,'class': depth0,'href': depth0};\n  hashTypes = {'tagName': \"STRING\",'class': \"STRING\",'href': \"BOOLEAN\"};\n  options = {hash:{\n    'tagName': (\"li\"),\n    'class': (\"documents-list-item\"),\n    'href': (false)\n  },inverse:self.noop,fn:self.program(4, program4, data),contexts:[depth0,depth0],types:[\"STRING\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  stack2 = ((stack1 = helpers['link-to'] || depth0['link-to']),stack1 ? stack1.call(depth0, \"document\", \"\", options) : helperMissing.call(depth0, \"link-to\", \"document\", \"\", options));\n  if(stack2 || stack2 === 0) { data.buffer.push(stack2); }\n  data.buffer.push(\"\\n        \");\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = '', stack1, hashContexts, hashTypes, options;\n  data.buffer.push(\"\\n                <a href=\\\"#\\\" class=\\\"document-title\\\" \");\n  hashContexts = {'href': depth0};\n  hashTypes = {'href': \"STRING\"};\n  data.buffer.push(escapeExpression(helpers.bindAttr.call(depth0, {hash:{\n    'href': (\"view.href\")\n  },contexts:[],types:[],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"title\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</a>\\n                <a href=\\\"#\\\" class=\\\"document-destroy\\\" \");\n  hashContexts = {'bubbles': depth0};\n  hashTypes = {'bubbles': \"BOOLEAN\"};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"destroyRecord\", \"\", {hash:{\n    'bubbles': (false)\n  },contexts:[depth0,depth0],types:[\"STRING\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">x</a>\\n                <span class=\\\"document-date\\\">Updated \");\n  hashTypes = {};\n  hashContexts = {};\n  options = {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  data.buffer.push(escapeExpression(((stack1 = helpers.date || depth0.date),stack1 ? stack1.call(depth0, \"updatedAt\", options) : helperMissing.call(depth0, \"date\", \"updatedAt\", options))));\n  data.buffer.push(\"</span>\\n            \");\n  return buffer;\n  }\n\n  data.buffer.push(\"<div class=\\\"documents\\\">\\n    <div class=\\\"header\\\">\\n        <h1 class=\\\"logo\\\">Poe</h1>\\n        \");\n  hashContexts = {'class': depth0};\n  hashTypes = {'class': \"STRING\"};\n  options = {hash:{\n    'class': (\"create-document-link\")\n  },inverse:self.noop,fn:self.program(1, program1, data),contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  stack2 = ((stack1 = helpers['link-to'] || depth0['link-to']),stack1 ? stack1.call(depth0, \"documents_new\", options) : helperMissing.call(depth0, \"link-to\", \"documents_new\", options));\n  if(stack2 || stack2 === 0) { data.buffer.push(stack2); }\n  data.buffer.push(\"\\n    </div>\\n    <ul class=\\\"documents-list\\\">\\n        \");\n  hashTypes = {};\n  hashContexts = {};\n  stack2 = helpers.each.call(depth0, \"controller\", {hash:{},inverse:self.noop,fn:self.program(3, program3, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack2 || stack2 === 0) { data.buffer.push(stack2); }\n  data.buffer.push(\"\\n    </ul>\\n</div>\");\n  return buffer;\n  \n});","Ember.TEMPLATES['index'] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) {\nthis.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Ember.Handlebars.helpers); data = data || {};\n  var buffer = '', stack1, hashTypes, hashContexts, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"\\n    <li>\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"item\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</li>\\n  \");\n  return buffer;\n  }\n\n  data.buffer.push(\"<h2>Welcome to Ember.js</h2>\\n<ul>\\n  \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers.each.call(depth0, \"item\", \"in\", \"content\", {hash:{},inverse:self.noop,fn:self.program(1, program1, data),contexts:[depth0,depth0,depth0],types:[\"ID\",\"ID\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n</ul>\\n\");\n  return buffer;\n  \n});"]}